{% extends 'base.html' %}
{% block title %}
Search story
{% endblock %}

{% block content%}

<form class="form-inline " action="" method="POST">

	{% csrf_token %}
	<div class="row">
		<div class="col">
			{{ form.name }}
		</div>
		<div class="col">
			{{ form.data_from }}
		</div>
		<div class="col">
			{{ form.data_to }}
		</div>
		<div class="col-auto">
			<button type="submit" class="btn btn-warning pr-3 ">Check</button>
		</div>
	</div>
</form>
<table class="table table-bordered table-dark">
	<thead class="thead-dark ">
		<tr>
			<th scope="col">ID</th>
			<th scope="col">City name</th>
			<th scope="col">Date of creation</th>
			<th scope="col">Story</th>
		</tr>
	</thead>
	<tbody>
		{% for info in page_obj %}
		<tr>
			<td>{{ info.id }}</td>
			<td>{{ info.name }}</td>
			<td>{{ info.data }}</td>
			<td>{{ info.story }}</td>
		</tr>
		{% endfor %}
	</tbody>
</table>
<nav aria-label="">

	<ul class="pagination justify-content-center">
		{% if page_obj.has_previous %}
		<li class="page-item">
			<a class="page-link" href="?page={{ page_obj.previous_page_number}}">Previous</a>
		</li>
		{% endif %}
		{% for page in page_obj.paginator.page_range %}
		<li class="page-item  {% if page_obj.number == page %} disabled {% endif %}">
			<a href="?page={{ page }}" class="page-link">{{ page }}</a>
		</li>
		{% endfor %}
		{% if page_obj.has_next %}
		<li class="page-item">
			<a class="page-link" href="?page={{ page_obj.next_page_number }}">Next</a>
		</li>
		{% endif %}
	</ul>

</nav>
<script type="text/javascript">
		$(function() {
			$('.datepicker').datepicker({
				format: 'yyyy-mm-dd',
				startDate: '-3d'
			})
		});
	</script>
{% endblock %}

